<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anatomy Master Quiz</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --success: #27ae60;
            --danger: #e74c3c;
            --bg: #f4f7f6;
            --text: #333;
            --card-bg: #fff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg);
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
        }

        .container {
            width: 100%;
            max-width: 600px;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .header {
            background: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 { margin: 0; font-size: 1.5rem; }
        .score-board { font-size: 0.9rem; opacity: 0.9; margin-top: 5px; }

        .content { padding: 25px; }

        .question-meta {
            text-transform: uppercase;
            font-size: 0.8rem;
            color: #7f8c8d;
            font-weight: bold;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--primary);
            line-height: 1.4;
        }

        .options-list { display: grid; gap: 12px; }

        .option-btn {
            background: #fff;
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            text-align: left;
            font-size: 1rem;
            transition: all 0.2s;
            position: relative;
            font-weight: 500;
            color: var(--text);
        }

        .option-btn:hover { border-color: var(--accent); background: #f0f8ff; }

        .option-btn.correct { background: var(--success); color: white; border-color: var(--success); }
        .option-btn.wrong { background: var(--danger); color: white; border-color: var(--danger); }
        
        /* Στυλ για όταν έχει απαντηθεί */
        .disabled { pointer-events: none; opacity: 0.9; }

        .next-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            border-radius: 0 0 15px 15px;
            display: none;
        }

        .next-btn:hover { background: #2980b9; }

        #end-screen {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .category-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            color: white;
            font-size: 0.7rem;
            margin-right: 8px;
            vertical-align: middle;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1 id="quiz-header">Anatomy Pro</h1>
        <div class="score-board">Ερώτηση <span id="current-q">1</span> / <span id="total-q">0</span> | Σκορ: <span id="score">0</span></div>
    </div>

    <div id="quiz-area" class="content">
        <div class="question-meta">
            <span id="category-tag" class="category-badge"></span>
            <span id="prompt-text"></span>
        </div>
        <div id="question-main" class="question-text"></div>
        <div id="options-container" class="options-list"></div>
    </div>

    <button id="next-btn" class="next-btn" onclick="nextQuestion()">Επόμενη Ερώτηση →</button>

    <div id="end-screen">
        <h2>Τέλος Κουίζ!</h2>
        <p style="font-size: 1.2rem;">Το σκορ σου: <strong id="final-score"></strong></p>
        <button onclick="location.reload()" style="padding: 10px 20px; font-size: 1rem; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">Επανάληψη</button>
    </div>
</div>

<script>
    // --- ΒΑΣΗ ΔΕΔΟΜΕΝΩΝ (ΟΛΗ Η ΥΛΗ) ---
    const rawData = [
        // ΑΡΤΗΡΙΕΣ
        { q: "Επιπολής κροταφική", a: "Έξω καρωτίδα", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Άνω θυρεοειδής", a: "Έξω καρωτίδα", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Ανιούσα φαρυγγική", a: "Έξω καρωτίδα", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Στερνοκλειδομαστοειδής", a: "Έξω καρωτίδα", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Έξω γναθιαία", a: "Έξω καρωτίδα", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Έσω γναθιαία", a: "Έξω καρωτίδα", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Πρόσθια τυμπανική", a: "Έσω γναθιαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Μέση μηνιγγική", a: "Έσω γναθιαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Οπίσθια περισπωμένη του βραχίονα", a: "Μασχαλιαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Ανώτατη θωρακική", a: "Μασχαλιαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Υποπλάτια", a: "Μασχαλιαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Θωρακορραχιαία", a: "Υποπλάτια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Σπονδυλική", a: "Υποκλείδια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Ανιούσα αυχενική", a: "Υποκλείδια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Ανώτατη μεσοπλεύρια", a: "Υποκλείδια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "1η μεσοπλεύρια", a: "Ανώτατη μεσοπλεύρια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "2η μεσοπλεύρια", a: "Ανώτατη μεσοπλεύρια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Εν τω βάθει τραχηλική", a: "Πλευραυχενικό στέλεχος", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "8η μεσοπλεύρια", a: "Θωρακική αορτή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "12η μεσοπλεύρια", a: "Θωρακική αορτή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Περικαρδιακή", a: "Θωρακική αορτή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Οπίσθια ηθμοειδής", a: "Οφθαλμική", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Περονιαία", a: "Οπίσθια κνημιαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Μυοφρενική", a: "Έσω θωρακική", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Αμυγδαλική", a: "Προσωπική", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Ραχιαία της ρινός", a: "Γωνιώδης", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Άνω ωλένια παράπλευρος", a: "Βραχιόνιος", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Κερκιδική παράπλευρη", a: "Εν τω βάθει βραχιόνια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Κοινή μεσόστεος", a: "Ωλένια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Μεσόστεος κερκιδική", a: "Κοινή μεσόστεος", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Κάτω φρενική", a: "Κοιλιακή αορτή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Νεφρική", a: "Κοιλιακή αορτή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Μέση επινεφρίδιος", a: "Κοιλιακή αορτή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Μέση ιερή", a: "Κοιλιακή αορτή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Έσω σπερματική", a: "Κοιλιακή αορτή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Γαστροδωδεκαδακτυλική", a: "Κοιλιακή αρτηρία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Κοινή ηπατική", a: "Κοιλιακή αρτηρία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Σπληνική", a: "Κοιλιακή αρτηρία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Αριστερή γαστρική", a: "Κοιλιακή αρτηρία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Θυρεοειδής", a: "Έσω λαγόνιος", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Πλάγια ιερή", a: "Έσω λαγόνιος", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Μέση αιμορροϊδική", a: "Έσω λαγόνιος", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Κάτω επιγάστρια", a: "Έξω λαγόνιος", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Άνω αιμορροϊδική", a: "Κάτω μεσεντέρια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Σκωληκοειδής", a: "Άνω μεσεντέρια", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Επιπολής περισπωμένη λαγόνια", a: "Κοινή μηριαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Έξω αιδοιϊκή", a: "Κοινή μηριαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Επιπολής επιγάστρια", a: "Μηριαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Έξω περισπωμένη", a: "Εν τω βάθει μηριαία", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Κάτω αιμορροϊδική", a: "Έσω αιδοιϊκή", type: "artery", prompt: "Από πού εκφύεται;" },
        { q: "Έξω ταρσιαία", a: "Ραχιαία του ποδός", type: "artery", prompt: "Από πού εκφύεται;" },

        // ΦΛΕΒΕΣ
        { q: "Υπερπλάτια", a: "Έξω σφαγίτιδα", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Οπίσθια ωτιαία", a: "Έξω σφαγίτιδα", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Προσωπική", a: "Έσω σφαγίτιδα", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Φαρυγγική", a: "Έσω σφαγίτιδα", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Γλωσσική", a: "Έσω σφαγίτιδα", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Κάτω θυρεοειδής", a: "Βραχιονοκεφαλική (ανώνυμη)", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Έσω θωρακική", a: "Ανώνυμη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Σπονδυλική", a: "Ανώνυμη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Οισοφαγικές", a: "Ανώνυμη (άζυγη)", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Άνω ημιάζυγη αριστερή", a: "Ανώνυμη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Θωρακοεπιγάστρια", a: "Μασχαλιαία", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Κεφαλική", a: "Μασχαλιαία", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Βασιλική", a: "Έσω βραχιόνια", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Έξω σφαγίτιδα", a: "Υποκλείδια", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Αριστερή έσω σπερματική", a: "Αριστερή Νεφρική", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Αριστερή επινεφρίδια", a: "Αριστερή νεφρική", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Κάτω μεσεντέρια", a: "Σπληνική (άνω μεσεντέρια)", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Κάτω αιμορροϊδικές", a: "Έσω αιδοιϊκή", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Οσφυϊκές", a: "Λαγονοσφυϊκή (κοινη λαγόνια)", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Μηριαία", a: "Έξω λαγόνια", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Μείζων σαφηνής", a: "Μηριαία", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Ελάσσων σαφηνής", a: "Ιγνυακή", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Δεξιά έσω σπερματική", a: "Κάτω κοίλη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Δεξιά νεφρική", a: "Κάτω κοίλη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Δεξιά επινεφρίδια", a: "Κάτω κοίλη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Δεξιά ωοθηκική/ορχική", a: "Κάτω κοίλη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Νεφρική", a: "Κάτω κοίλη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Κάτω φρενική", a: "Κάτω κοίλη", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Στεφανιαίος κόλπος", a: "Δεξιός κόλπος", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Άνω οβελιαίος κόλπος", a: "Ληνό Ηροφίλου", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Κάτω οβελιαίος κόλπος", a: "Ευθύ κόλπο", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Ευθύς κόλπος", a: "Ληνό Ηροφίλου", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Σφηνοβρεγματικός κόλπος", a: "Σηραγγώδη κόλπο", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Εγκάρσιος κόλπος", a: "Ληνό Ηροφίλου", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Σιγμοειδής κόλπος", a: "Έσω σφαγίτιδα", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Άνω λιθοειδής κόλπος", a: "Εγκάρσιο κόλπο", type: "vein", prompt: "Πού εκβάλλει;" },
        { q: "Κάτω λιθοειδής κόλπος", a: "Έσω σφαγίτιδα", type: "vein", prompt: "Πού εκβάλλει;" },

        // ΜΥΕΣ & ΝΕΥΡΑ
        { q: "Κορακοβραχιόνιος", a: "Μυοδερματικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Πρόσθιος βραχιόνιος", a: "Μυοδερματικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Δικέφαλος βραχιόνιος", a: "Μυοδερματικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μακρός παλαμικός", a: "Μέσο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Τετράγωνος πρηνιστής", a: "Μέσο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Στρογγύλος πρηνιστής", a: "Μέσο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Επιπολής καμπτήρας δακτύλων", a: "Μέσο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Δέρμα δελτοειδή", a: "Μασχαλιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μείζων στρογγύλος", a: "Υποπλάτια", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μείζων ρομβοειδής", a: "Μασχαλιαίο (ή Ραχιαίο)", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Δελτοειδής", a: "Μασχαλιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ελάσσων στρογγύλος", a: "Μασχαλιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μυς του αναβολέα", a: "Προσωπικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Γενειακός", a: "Προσωπικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βελονοϋοειδής", a: "Προσωπικό (διγαστορικός)", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βυκανητής", a: "Προσωπικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μυώδες πλάτυσμα", a: "Προσωπικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μείζων ζυγωματικός", a: "Προσωπικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Δέρμα προσώπου", a: "Τρίδυμο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Επισκύνιος", a: "Προσωπικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Κροταφίτης", a: "Εν τω βάθει κροταφικό (Τρίδυμο)", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Σφιγκτήρας βλεφάρου", a: "Προσωπικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Τείνων τη μαλακή υπερώα", a: "Κάτω γναθικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Γενειοϋοειδής", a: "Υπογλώσσιο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βελονογλωσσικός", a: "Προσωπικό & Υπογλώσσιο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ωμοϋοειδής", a: "Αγκύλη υπογλωσσίου", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μασητήρας", a: "Μασητήριο (κάτω γναθικό)", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ισχνός", a: "Θυροειδές", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μακρός προσαγωγός", a: "Θυροειδές", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βραχύς προσαγωγός", a: "Θυροειδές", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Δικέφαλος μηριαίος", a: "Ισχιακό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ημιυμενώδης", a: "Ισχιακό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ημιτενοντώδης", a: "Ισχιακό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Κρικοθυρεοειδής", a: "Άνω λαρυγγικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Κρικοαρυταινοειδής", a: "Παλίνδρομο λαρυγγικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Υποκλείδιος", a: "Υποκλείδιο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βραχιονοκερκιδικός", a: "Κερκιδικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Τρικέφαλος βραχιόνιος", a: "Κερκιδικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Αγκωνιαίος", a: "Κερκιδικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ίδιος εκτείνων το δείκτη", a: "Εν τω βάθει Κερκιδικού", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μεσόστεοι μύες χεριού", a: "Ωλένιο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Καμπτήρ καρπού", a: "Ωλένιο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μακρός απαγωγός αντίχειρα", a: "Ωλένιο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βραχύς παλαμικός", a: "Επιπολής κλ. ωλενίου", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Τείνων το τύμπανο", a: "Ακουστικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Θυρεοϋοειδής", a: "Θυρεοϋοειδές", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Άνω λοξός", a: "Τροχιλιακό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Γναθοϋοειδής", a: "Γναθοϋοειδές", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Διάφραγμα", a: "Φρενικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Έσω πτερυγοειδής", a: "Τρίδυμο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Έξω ορθός", a: "Απαγωγό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Στερνοϋοειδής", a: "Αγκύλη υπογλωσσίου", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Υπερακάνθιος", a: "Υπερπλάτιο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Υπακάνθιος", a: "Υπερπλάτιο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Δέρμα παρειάς", a: "Τρίδυμο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βελονοφαρυγγικός", a: "Γλωσσοφαρυγγικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Πρόσθια γαστέρα διγάστορα", a: "Γναθοϋοειδές", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ρομβοειδής", a: "Ραχιαίο της ωμοπλάτης", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Έσω ορθός", a: "Κοινό κινητικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ανελκτήρας άνω βλεφάρου", a: "Κοινό κινητικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Τραπεζοειδής", a: "Παραπληρωματικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Στερνοκλειδομαστοειδής", a: "Παραπληρωματικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Πλατύς ραχιαίος", a: "Θωρακορραχιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Πρόσθιος οδοντωτός", a: "Μακρό θωρακικό", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ραπτικός", a: "Νεύρο ραπτικού (Μηριαίο)", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Τετρακέφαλος μηριαίος", a: "Μηριαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μέσος γλουτιαίος", a: "Άνω γλουτιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Τείνων τη πλατεία περιτονία", a: "Άνω γλουτιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Οπίσθιος κνημιαίος", a: "Κνημιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ιγνυακός", a: "Κνημιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Γαστροκνήμιος", a: "Κνημιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Πελματιαίος", a: "Κνημιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Πελματικός", a: "Κνημιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μακρός καμπτήρας δακτύλων ποδός", a: "Κνημιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Απαγωγός μικρού δακτύλου", a: "Έξω πελματιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μεγάλος γλουτιαίος", a: "Κάτω γλουτιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Λαγονοψοΐτης", a: "Οσφυϊκό πλέγμα", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Δέρμα οπίσθιου τραχηλικού τριγώνου", a: "Αυχενικό πλέγμα", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Δέρμα πρόσθιας τραχηλικής περιοχής", a: "Αυχενικό πλέγμα", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Τρίτος περονιαίος", a: "Εν τω βάθει περονιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Πρόσθιος κνημιαίος", a: "Εν τω βάθει περονιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μακρός εκτείνων τους δακτύλους", a: "Εν τω βάθει περονιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βραχύς εκτείνων τους δακτύλους", a: "Εν τω βάθει περονιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Πρόσθιος περονιαίος", a: "Εν τω βάθει περονιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Μακρός εκτείνων το μέγα δάκτυλο", a: "Εν τω βάθει περονιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βραχύς περονιαίος", a: "Επιπολής περονιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Βραχύς απαγωγός αντίχειρα", a: "Κοινό παλαμιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" },
        { q: "Ελμινθοειδείς", a: "Κοινό παλαμιαίο", type: "muscle", prompt: "Από ποιο νεύρο νευρώνεται;" }
    ];

    let quizData = [];
    let currentIndex = 0;
    let score = 0;

    // --- LOGIC ΓΙΑ ΔΗΜΙΟΥΡΓΙΑ ΕΞΥΠΝΩΝ ΠΑΓΙΔΩΝ ---
    function generateQuizData() {
        // 1. Δημιουργία pool απαντήσεων ανά κατηγορία
        const answerPools = {
            artery: [...new Set(rawData.filter(i => i.type === 'artery').map(i => i.a))],
            vein: [...new Set(rawData.filter(i => i.type === 'vein').map(i => i.a))],
            muscle: [...new Set(rawData.filter(i => i.type === 'muscle').map(i => i.a))]
        };

        // 2. Δημιουργία δομής ερωτήσεων
        return rawData.map(item => {
            // Βρες το pool της συγκεκριμένης κατηγορίας
            const pool = answerPools[item.type];
            
            // Βρες 3 λάθος απαντήσεις (distractors) από το ΙΔΙΟ pool
            // Αυτό είναι το "trick": βάζουμε μόνο νεύρα αν η ερώτηση είναι για μυ, κτλ.
            let distractors = pool.filter(ans => ans !== item.a);
            distractors.sort(() => Math.random() - 0.5); // Ανακάτεμα
            distractors = distractors.slice(0, 3); // Πάρε τους 3 πρώτους

            // Δημιούργησε τις επιλογές (Σωστό + 3 Λάθος)
            let options = [item.a, ...distractors];
            
            // Ανακάτεμα των επιλογών
            options.sort(() => Math.random() - 0.5);

            // Βρες πού κατέληξε η σωστή απάντηση
            const correctIndex = options.indexOf(item.a);

            // Καθορισμός χρώματος badge
            let badgeColor = "#95a5a6";
            let catName = "";
            if(item.type === 'artery') { badgeColor = "#c0392b"; catName = "ΑΡΤΗΡΙΑ"; }
            if(item.type === 'vein') { badgeColor = "#2980b9"; catName = "ΦΛΕΒΑ"; }
            if(item.type === 'muscle') { badgeColor = "#f39c12"; catName = "ΜΥΣ / ΝΕΥΡΟ"; }

            return {
                q: item.q,
                prompt: item.prompt,
                o: options,
                a: correctIndex,
                badge: badgeColor,
                catName: catName
            };
        });
    }

    function startQuiz() {
        quizData = generateQuizData();
        // Ανακάτεμα όλων των ερωτήσεων
        quizData.sort(() => Math.random() - 0.5);
        
        currentIndex = 0;
        score = 0;
        document.getElementById('total-q').innerText = quizData.length;
        document.getElementById('end-screen').style.display = 'none';
        document.getElementById('quiz-area').style.display = 'block';
        document.getElementById('next-btn').style.display = 'none';
        loadQuestion();
    }

    function loadQuestion() {
        if (currentIndex >= quizData.length) {
            showResults();
            return;
        }

        const current = quizData[currentIndex];
        
        // Update UI
        document.getElementById('current-q').innerText = currentIndex + 1;
        document.getElementById('score').innerText = score;
        document.getElementById('question-main').innerText = current.q;
        document.getElementById('prompt-text').innerText = current.prompt;
        
        const badge = document.getElementById('category-tag');
        badge.innerText = current.catName;
        badge.style.backgroundColor = current.badge;

        // Render Options
        const container = document.getElementById('options-container');
        container.innerHTML = "";
        
        current.o.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(index, btn, current.a);
            container.appendChild(btn);
        });

        document.getElementById('next-btn').style.display = 'none';
    }

    function checkAnswer(selectedIndex, btn, correctIndex) {
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach((b, idx) => {
            b.classList.add('disabled'); // Κλείδωμα κουμπιών
            if (idx === correctIndex) b.classList.add('correct'); // Δείξε το σωστό
        });

        if (selectedIndex === correctIndex) {
            score += 10;
        } else {
            btn.classList.add('wrong'); // Δείξε το λάθος
        }

        document.getElementById('score').innerText = score;
        document.getElementById('next-btn').style.display = 'block';
    }

    function nextQuestion() {
        currentIndex++;
        loadQuestion();
    }

    function showResults() {
        document.getElementById('quiz-area').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
        document.getElementById('end-screen').style.display = 'block';
        document.getElementById('final-score').innerText = `${score} / ${quizData.length * 10}`;
    }

    // Start on load
    startQuiz();

</script>
</body>
</html>
